<!DOCTYPE html>
<html>
    <head>
        <script type="module">
            import * as MPT from './MPT/pink_trombone_script.js'
            window.ctx = new AudioContext()
            window.MPT = MPT
        </script>
        <script type="module" src="script.js"></script>
        <style>

            body > hr {
                clear:left;
                outline: 1px solid black
            }

            #studio > div {
                margin: 1em;
            }

            .studioControl {
                display: none
            }

        </style>
    </head>
    <body>
        <button onclick="MPT.pinkTromboneVoicesInit(ctx)">INITIALIZE VOICES</button>
        <div id="studio" style="width: 100%">
            <div style="width: 25%; float: left">
                <h2>Studio</h2>
                <hr />
                <label style="font-size: 24px">
                    Mode: 
                    <select id="studioModeSelect">
                        <option></option>
                        <option value="excitation">Excitation</option>
                        <option value="voice">Voice</option>
                        <option value="tract">Tract</option>
                    </select>
                </label>
                <br /><br />
                <div class="studioControl" id="excitationOptions">
                    <label">Paste excitation array literal <input id="excitationInput"></label><br>
                    <button id="excitationSmoothButton">Smooth Excitation</button><br>
                    <button id="excitationCopyButton">Copy Excitation</button>
                </div>
                <div class="studioControl" id="voiceOptions">
                    <label>
                        Voice #: <input type="number" id="voiceNumber" value="0" min="0" />
                    </label><br /><br />
                    <label>
                        Voice frequency: <input type="range" id="frequencySlider" value="0" min="0" max="500" step="0.1" />
                        <span id="frequencyValue"></span>
                    </label><br /><br />
                    <label>
                        Voice tenseness: <input type="range" id="tensenessSlider" value="0" min="0" max="1" step="0.01" />
                        <span id="tensenessValue"></span>
                    </label><br /><br />
                    <button onclick="window.navigator.clipboard.writeText(JSON.stringify([0, 0, 1.56, 2.88, 3.8, 4.12, 4.44, 2, 1.08, -3.36, -3.44, 1.24, 1.96, 3.28, 1.2, -3, -3, -3, -3]))">Copy suggested EQ array</button>
                    <br><br>
                    
                    <label>Paste EQ array: <input id="eqArrayInput"></label>
                    <button id="getEQButton" style="font-size: 18px">Copy EQ Array</button>
                </div>
                <div class="studioControl" id="tractOptions">
                    
                </div>
            </div>
            <div style="float: left; outline: 1px solid black">
                <canvas height="500" width="500" id="studioCanvas"></canvas>
            </div>
        </div>
    </body>
</html>